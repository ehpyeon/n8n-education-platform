<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>11강: RAG 시스템 제작</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <style>
        /* Global Reset and Base Styles */
        *, *::before, *::after { box-sizing: border-box; }
        html, body { max-width: 100%; overflow-x: hidden; margin: 0; padding: 0; }
        :root { scrollbar-gutter: stable both-edges; }
        
        img, video, svg, canvas, iframe, table { max-width: 100%; height: auto; }
        pre, code, .code-block { max-width: 100%; overflow: auto; }
        
        .content-grid { min-width: 0; }
        .content-grid > * { min-width: 0; overflow-wrap: anywhere; }
        
        .basic-font, .card-title, .header-1, .header-2, .header-3 { overflow-wrap: anywhere; word-break: break-word; }

        /* Typography */
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: #2D3748;
            background: #FFFFFF;
        }

        .basic-font {
            font-size: 13pt;
            color: #2D3748;
            line-height: 1.3;
            margin-bottom: 8px;
        }

        .header-3 {
            font-size: 15pt;
            font-weight: 600;
            color: #1B365D;
            margin-bottom: 6px;
            line-height: 1.3;
            text-align: left;
        }

        .header-2 {
            font-size: 18pt;
            font-weight: 600;
            color: #1B365D;
            margin-bottom: 9px;
            line-height: 1.3;
        }

        .header-1 {
            font-size: 21pt;
            font-weight: 700;
            color: #1B365D;
            margin-bottom: 12px;
            line-height: 1.2;
        }

        .message {
            font-size: 15pt;
            font-weight: 500;
            color: rgb(115, 113, 113);
            margin-bottom: 6px;
            line-height: 1.3;
            text-align: left;
        }

        /* Navigation */
        .nav-bar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 70px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid #E2E8F0;
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 5vw;
            box-shadow: 0 2px 10px rgba(27, 54, 93, 0.1);
        }

        .nav-logo {
            height: 40px;
            font-size: 24px;
            font-weight: 700;
            color: #1B365D;
        }

        .nav-progress {
            display: flex;
            align-items: center;
            gap: 15px;
            font-size: 14px;
            color: #636E72;
        }

        .nav-progress .current-topic {
            font-weight: 600;
            color: #1B365D;
            max-width: 300px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .nav-progress .slide-counter {
            background: #F8F9FA;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            color: #636E72;
        }

        /* Progress Bar */
        .scroll-progress {
            position: fixed;
            top: 70px;
            left: 0;
            width: 100%;
            height: 4px;
            background: #F8F9FA;
            z-index: 999;
        }

        .scroll-progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #1B365D 0%, rgb(135, 0, 232) 100%);
            width: 0%;
            transition: width 0.3s ease;
        }

        /* Layout */
        .slide-container {
            width: 100%;
            background: #FFFFFF;
            padding-top: 100px;
        }

        .slide {
            min-height: calc(100vh - 100px);
            width: 100%;
            padding: 32px 5vw 48px 5vw;
            display: flex;
            flex-direction: column;
            text-align: left;
            scroll-margin-top: 100px;
            box-sizing: border-box;
        }

        .slide + .slide {
            border-top: 2px solid #F8F9FA;
        }

        /* Content Layout */
        .content-grid {
            display: grid;
            gap: 8px;
            margin: 12px 0;
        }

        .content-grid-2 {
            grid-template-columns: 1fr 1fr;
        }

        .content-grid-3 {
            grid-template-columns: repeat(3, 1fr);
        }

        /* Cards */
        .content-card {
            background: #FFFFFF;
            border: 1px solid rgb(235, 226, 240);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 8px;
            box-shadow: 0 2px 8px rgba(27, 54, 93, 0.05);
            transition: all 0.2s ease;
            margin-top: 0px;
        }

        .content-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(27, 54, 93, 0.1);
        }

        .card-title {
            font-size: 15pt;
            font-weight: 600;
            color: #1B365D;
            margin-bottom: 12px;
            margin-top: 6px;
            text-align: left;
        }

        /* Callouts */
        .callout-center {
            background: #ffffff;
            border: 1px solid rgba(27, 54, 93, 0.12);
            border-radius: 14px;
            padding: 20px 24px;
            margin: 24px auto;
            width: fit-content;
            box-shadow: 0 4px 16px rgba(27, 54, 93, 0.08), 0 1px 3px rgba(27, 54, 93, 0.06);
            text-align: left;
        }

        .callout {
            padding: 16px;
            margin: 8px auto;
            background: rgba(178, 73, 234, 0.04);
            border: 0px;
            text-align: left;
            width: 100%;
            border-radius: 8px;
            font-size: 13pt;
            line-height: 1.7;
        }

        /* Lists */
        .step-list {
            list-style: none;
            counter-reset: step-counter;
            margin: 12px 0;
            padding-left: 0;
        }

        .step-list > li {
            counter-increment: step-counter;
            margin-bottom: 10px;
            padding-left: 36px;
            position: relative;
            line-height: 1.2;
            font-size: 12pt;
        }

        .step-list > li::before {
            content: counter(step-counter);
            position: absolute;
            left: 0;
            top: 0;
            background: rgba(114, 29, 171, 0.7);
            color: white;
            width: 22px;
            height: 22px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12pt;
            font-weight: 600;
        }

        .checklist {
            list-style: none;
            margin: 12px 0;
            padding-left: 0;
        }

        .checklist li {
            padding: 4px 0 4px 26px;
            position: relative;
            margin-bottom: 0px;
            line-height: 1.2;
            font-size: 12pt;
        }

        .checklist li::before {
            content: "✓";
            position: absolute;
            left: 0;
            color: rgba(114, 29, 171, 0.7);
            font-weight: bold;
            font-size: 12pt;
        }

        /* Tables */
        .content-table {
            width: 100%;
            border-collapse: collapse;
            margin: 12px 0;
            background: #FFFFFF;
            border: 1px solid #E2E8F0;
            border-radius: 8px;
            overflow: hidden;
            font-size: 12pt;
        }

        .content-table th {
            background: #F8F9FA;
            padding: 8px 8px;
            font-size: 13pt;
            font-weight: 600;
            color: #1B365D;
            text-align: left;
            border-bottom: 2px solid #E2E8F0;
        }

        .content-table td {
            padding: 8px 8px;
            color: #2D3748;
            border-bottom: 1.5px solid #F8F9FA;
            text-align: left;
            vertical-align: top;
        }

        .content-table tr:last-child td {
            border-bottom: none;
        }

        .content-table tr:hover {
            background: rgba(178, 73, 234, 0.05);
        }

        /* Code Blocks */
        .code-block {
            background: #F8F9FA;
            border: 1px solid #E2E8F0;
            border-radius: 8px;
            padding: 8px 12px;
            margin: 8px 0;
            font-family: 'Monaco', 'Menlo', 'Consolas', monospace;
            font-size: 10pt;
            color: #2D3748;
            overflow-x: auto;
            line-height: 1.4;
            white-space: pre-line; /* Line breaks 활성화 */
        }

        /* Center alignment for intro slide */
        .slide.intro {
            text-align: center;
            justify-content: center;
        }

        .slide.intro .header-1,
        .slide.intro .header-2 {
            text-align: center;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .content-grid-2,
            .content-grid-3 {
                grid-template-columns: 1fr;
                gap: 12px;
            }
            
            .slide {
                padding: 16px 3vw 32px 3vw;
                min-height: calc(100vh - 80px);
            }
            
            .nav-bar {
                height: 60px;
                padding: 0 3vw;
            }
            
            .slide-container {
                padding-top: 80px;
            }
            
            .header-1 { font-size: 22pt; }
            .header-2 { font-size: 17pt; }
            .header-3 { font-size: 15pt; }
            .basic-font { font-size: 13pt; }
            
            .content-card {
                padding: 16px;
                margin-bottom: 4px;
            }
        }

        /* Smooth scrolling */
        html {
            scroll-behavior: smooth;
        }

        /* 코드 블록 전용 스타일 - 향상된 라인 브레이크 지원 */
        .code-block {
            background: #F8F9FA;
            border: 1px solid #E2E8F0;
            border-radius: 8px;
            padding: 12px 16px;
            margin: 12px 0;
            font-family: 'Monaco', 'Menlo', 'Consolas', 'Courier New', monospace;
            font-size: 11pt;
            color: #2D3748;
            line-height: 1.5;
            /* 향상된 라인 브레이크 기능 */
            white-space: pre-wrap;
            word-wrap: break-word;
            overflow-wrap: break-word;
            word-break: break-all;
            overflow-x: auto;
        }

        /* 인라인 코드 스타일 */
        .inline-code {
            background: #F8F9FA;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Monaco', 'Menlo', 'Consolas', 'Courier New', monospace;
            font-size: 0.9em;
            color: #1B365D;
            border: 1px solid #E2E8F0;
        }

        /* Mermaid 다이어그램 스타일 */
        .mermaid {
            background: #FFFFFF;
            border: 1px solid #E2E8F0;
            border-radius: 8px;
            padding: 16px;
            margin: 16px 0;
            text-align: center;
            overflow-x: auto;
            overflow-y: hidden;
        }

        /* Mermaid 다이어그램 반응형 지원 */
        .mermaid svg {
            max-width: 100%;
            height: auto;
        }
    </style>
    <!-- Mermaid.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.9.0/dist/mermaid.min.js"></script>
</head>
<body>
    <nav class="nav-bar">
        <div class="nav-logo">📚 RAG 시스템</div>
        <div class="nav-progress">
            <span class="current-topic">RAG 시스템 제작</span>
            <span class="slide-counter">1 / 10</span>
        </div>
    </nav>

    <div class="scroll-progress">
        <div class="scroll-progress-bar"></div>
    </div>

    <div class="slide-container">
        <!-- Slide 1: Intro -->
        <section class="slide intro" id="slide-1">
            <h1 class="header-1">📚 RAG 시스템 제작</h1>
            <h2 class="header-2">똑똑한 지식 관리사 만들기</h2>
            <div class="callout-center">
                <ol class="step-list">
                    <li>똑똑한 지식 관리사 시스템 구축</li>
                    <li>특별한 언어 번역기(Embedding) 활용</li>
                    <li>숫자 도서관(Vector DB) 구성</li>
                    <li>n8n으로 RAG 시스템 구현</li>
                </ol>
            </div>
        </section>

        <!-- Slide 2: 문제 제기 - 일반 LLM의 한계와 커스텀 데이터 활용 필요성 -->
        <section class="slide" id="slide-2">
            <h2 class="header-2">⚠️ 일반 AI로는 우리 회사 업무를 도와줄 수 없습니다</h2>
            <div class="message">ChatGPT 같은 AI는 똑똑하지만 우리 회사만의 특별한 지식과 데이터는 모릅니다</div>
            
            <div class="content-grid content-grid-2">
                <div class="content-card">
                    <div class="card-title">😵 일반 LLM의 한계점</div>
                    <ul class="checklist">
                        <li><strong>회사 고유 데이터 부재:</strong> 우리 회사 매뉴얼, 정책 모름</li>
                        <li><strong>최신 정보 부족:</strong> 최근 업데이트된 규정 반영 안됨</li>
                        <li><strong>업계 전문성 부족:</strong> 우리 분야 특화 지식 한계</li>
                        <li><strong>할루시네이션 위험:</strong> 모르는 내용을 지어서 답변</li>
                    </ul>
                    
                    <div class="code-block">실제 상황:
"우리 회사 휴가 정책이 어떻게 되나요?"
→ ChatGPT: "일반적인 연차 제도는..."
→ 실제로는 우리 회사만의 특별한 규정 존재</div>
                </div>
                
                <div class="content-card">
                    <div class="card-title">💡 커스텀 데이터 활용 니즈</div>
                    <div class="basic-font"><strong>우리가 원하는 AI 시스템:</strong></div>
                    <ul class="checklist">
                        <li><strong>업무 생산성 향상:</strong> 회사 문서 기반 정확한 답변</li>
                        <li><strong>고객 서비스 자동화:</strong> 우리 제품/서비스 전문 챗봇</li>
                        <li><strong>내부 지식 관리:</strong> 축적된 노하우와 경험 활용</li>
                        <li><strong>개인화된 지원:</strong> 우리 상황에 딱 맞는 조언</li>
                    </ul>
                    
                    <div class="callout">
                        <strong>핵심 문제:</strong> LLM의 지능적 답변 능력 + 우리만의 데이터를 어떻게 결합할 것인가?
                    </div>
                </div>
            </div>
        </section>

        <!-- Slide 3: 똑똑한 지식 관리사 vs 일반 검색 (기존 slide-2) -->
        <section class="slide" id="slide-3">
            <h2 class="header-2">🧠 똑똑한 지식 관리사 vs 일반 검색</h2>
            <div class="message">경험 많은 비서가 회사 자료를 모두 외우고 질문에 딱 맞는 답변만 찾아주는 시스템입니다</div>
            
            <div class="content-grid content-grid-2">
                <div class="content-card">
                    <div class="card-title">🔍 일반 사무실 검색 방식</div>
                    <div class="basic-font"><strong>단순한 단어 매칭:</strong></div>
                    <ul class="checklist">
                        <li>정확히 같은 단어만 찾는 방식</li>
                        <li>"고객 서비스" 검색 → "고객 서비스" 만 찾음</li>
                        <li>"고객 지원", "사용자 도움" 등은 놓침</li>
                        <li>비슷한 뜻의 다른 표현 무시</li>
                    </ul>
                    
                    <div class="code-block">검색 결과:
"고객 서비스" 검색
→ 정확히 "고객 서비스"만 포함된 문서 3개
→ 관련 내용이지만 다른 표현 사용한 문서들은 누락</div>
                </div>
                
                <div class="content-card">
                    <div class="card-title">🎯 지식 관리사의 의미 파악 검색</div>
                    <div class="basic-font"><strong>똑똑한 의미 이해:</strong></div>
                    <ul class="checklist">
                        <li>말의 뜻과 맥락을 이해하는 검색</li>
                        <li>"고객 서비스" 검색 → 관련된 모든 표현 찾음</li>
                        <li>"고객 지원", "사용자 도움", "구매자 상담" 포함</li>
                        <li>진짜 의미를 알아서 정확한 자료 제공</li>
                    </ul>
                    
                    <div class="code-block">검색 결과:
"고객 서비스" 검색
→ "고객 서비스" 직접 언급 문서 3개
→ "고객 지원" 관련 문서 5개  
→ "사용자 도움" 관련 문서 2개
→ 총 10개의 관련 문서 모두 발견</div>
                </div>
            </div>
        </section>

        <!-- Slide 4: 언어 번역기 (Embedding) -->
        <section class="slide" id="slide-4">
            <h2 class="header-2">🔤 특별한 언어 번역기 (Embedding)</h2>
            <div class="message">사람의 말을 컴퓨터가 의미를 이해할 수 있는 숫자 언어로 바꿔주는 마법 도구입니다</div>
            
            <div class="content-grid content-grid-2">
                <div class="content-card">
                    <div class="card-title">🎯 언어 번역기의 마법</div>
                    <div class="basic-font"><strong>동물을 차원으로 이해하기:</strong></div>
                    <table class="content-table">
                        <tr>
                            <th>동물</th>
                            <th>포유류인가?</th>
                            <th>개과인가?</th>
                            <th>짖는 울음을 내는가?</th>
                            <th>어린 동물 단어인가?</th>
                        </tr>
                        <tr class="highlighted">
                            <td>강아지</td>
                            <td style="background: rgba(178, 73, 234, 0.15); font-weight: 600;">1.0</td>
                            <td style="background: rgba(178, 73, 234, 0.15); font-weight: 600;">1.0</td>
                            <td style="background: rgba(178, 73, 234, 0.15); font-weight: 600;">1.0</td>
                            <td style="background: rgba(178, 73, 234, 0.15); font-weight: 600;">1.0</td>
                        </tr>
                        <tr>
                            <td>개</td>
                            <td style="background: rgba(178, 73, 234, 0.15); font-weight: 600;">1.0</td>
                            <td style="background: rgba(178, 73, 234, 0.15); font-weight: 600;">1.0</td>
                            <td style="background: rgba(178, 73, 234, 0.15); font-weight: 600;">1.0</td>
                            <td>0.0</td>
                        </tr>
                        <tr>
                            <td>고양이</td>
                            <td style="background: rgba(178, 73, 234, 0.15); font-weight: 600;">1.0</td>
                            <td>0.0</td>
                            <td>0.5</td>
                            <td style="background: rgba(178, 73, 234, 0.15); font-weight: 600;">1.0</td>
                        </tr>
                    </table>
                    
                    <div class="basic-font"><strong>실제 벡터 변환:</strong></div>
                    <div class="code-block">"강아지" → [1.0, 1.0, 1.0, 1.0, ...] (1536개 차원)
"개" → [1.0, 1.0, 1.0, 0.0, ...] (1536개 차원)
"고양이" → [1.0, 0.0, 0.5, 1.0, ...] (1536개 차원)</div>
                    
                    <div class="basic-font"><strong>컴퓨터의 의미 이해:</strong></div>
                    <ul class="checklist">
                        <li>"강아지"와 "개"는 3개 차원이 같아서 매우 비슷</li>
                        <li>"고양이"는 일부 차원에서 다른 값으로 구별됨</li>
                        <li>0.5같은 중간값으로 미묘한 차이도 표현</li>
                        <li>1536개 차원으로 단어의 모든 의미를 정확히 파악</li>
                    </ul>
                </div>
                
                <div class="content-card">
                    <div class="card-title">👥 선택 가능한 언어 번역 전문가들</div>
                    <table class="content-table">
                        <tr>
                            <th>번역사 팀</th>
                            <th>명칭</th>
                            <th>차원</th>
                            <th>적합한 용도</th>
                        </tr>
                        <tr>
                            <td>OpenAI팀</td>
                            <td>text-embedding-ada-002<br>text-embedding-3-small<br>text-embedding-3-large</td>
                            <td>1536<br>1536<br>3072</td>
                            <td>범용 문서 처리</td>
                        </tr>
                        <tr>
                            <td>Upstage Solar</td>
                            <td>solar-embedding-1-large</td>
                            <td>4096</td>
                            <td>한국어 문서 (강력 추천!)</td>
                        </tr>
                        <tr>
                            <td>Google</td>
                            <td>gemini-embedding-001<br>text-multilingual-embedding-002</td>
                            <td>3072<br>768</td>
                            <td>글로벌 문서</td>
                        </tr>
                    </table>
                    
                    <div class="basic-font"><strong>Upstage Solar 추천 이유:</strong></div>
                    <ul class="checklist">
                        <li>한국어 미묘한 뉘앙스까지 완벽 이해</li>
                        <li>한국 문화 맥락 반영</li>
                        <li>n8n에서 바로 사용 가능</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Slide 5: 벡터 데이터베이스 -->
        <section class="slide" id="slide-5">
            <h2 class="header-2">🗃️ 특별한 숫자 도서관 (벡터 데이터베이스)</h2>
            <div class="message">언어 번역기가 만든 숫자들을 체계적으로 보관하고 빠르게 찾아주는 마법 창고입니다</div>
            
            <div class="content-grid content-grid-2">
                <div class="content-card">
                    <div class="card-title">📊 주요 벡터 데이터베이스 비교</div>
                    <table class="content-table">
                        <tr>
                            <th>로고</th>
                            <th>데이터베이스</th>
                            <th>특징</th>
                            <th>적합한 경우</th>
                        </tr>
                        <tr>
                            <td><img src="https://files.svgcdn.io/logos/qdrant-icon.png" alt="Qdrant" style="width: 24px; height: 24px;"></td>
                            <td>Qdrant (추천)</td>
                            <td>오픈소스, 무료</td>
                            <td>중소 규모, 개인 프로젝트</td>
                        </tr>
                        <tr>
                            <td><img src="https://images.seeklogo.com/logo-png/48/2/pinecone-icon-logo-png_seeklogo-482365.png" alt="Pinecone" style="width: 24px; height: 24px;"></td>
                            <td>Pinecone</td>
                            <td>완전 관리형 클라우드</td>
                            <td>대규모 상업 프로젝트</td>
                        </tr>
                        <tr>
                            <td>🔧</td>
                            <td>n8n 기본</td>
                            <td>별도 설정 불필요</td>
                            <td>학습용, 소규모 테스트</td>
                        </tr>
                    </table>
                </div>
                
                <div class="content-card">
                    <div class="card-title">🔍 벡터 DB의 핵심 기능</div>
                    <div class="basic-font"><strong>유사도 검색의 두 가지 방식:</strong></div>
                    
                    <div style="background: #f8f9fa; padding: 16px; border-radius: 8px; margin: 12px 0;">
                        <pre class="mermaid" style="background: transparent; border: none; padding: 0;">
graph TD
    A[사용자 질문: 고객 서비스] --> B{검색 방식 선택}
    
    B --> C[키워드 검색]
    B --> D[의미 검색]
    
    C --> C1["정확한 단어 매칭<br/>🔍 '고객 서비스'만 찾기"]
    C --> C2["결과: 3개 문서<br/>📄 고객 서비스 매뉴얼<br/>📄 고객 서비스 정책<br/>📄 고객 서비스 교육"]
    
    D --> D1["의미 기반 벡터 검색<br/>🧠 비슷한 뜻 모두 찾기"]
    D --> D2["결과: 10개 문서<br/>📄 고객 서비스 매뉴얼<br/>📄 고객 지원 가이드<br/>📄 사용자 도움말<br/>📄 구매자 상담 절차<br/>📄 클라이언트 케어<br/>+ 5개 추가"]
    
    C2 --> E[하이브리드 검색]
    D2 --> E
    E --> F["최적 결과: 12개 문서<br/>정확성 + 포괄성"]
    
    style C fill:#ffebee
    style D fill:#e8f5e8
    style E fill:#fff3e0
    style F fill:#f3e5f5
</pre>
                    </div>
                    
                    <div class="basic-font"><strong>추가 기능들:</strong></div>
                    <ul class="checklist">
                        <li><strong>메타데이터 필터링:</strong> 날짜, 카테고리, 작성자로 범위 제한</li>
                        <li><strong>유사도 점수:</strong> 0.0~1.0 점수로 관련성 순 정렬</li>
                        <li><strong>하이브리드 검색:</strong> 키워드 + 의미 검색 결합으로 최고 성능</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Slide 6: 청킹 (문서 나누기) -->
        <section class="slide" id="slide-6">
            <h2 class="header-2">✂️ 청킹 (Chunking) - 문서 나누기</h2>
            <div class="message">긴 문서를 적당한 크기로 나누어야 정확한 정보를 빠르게 찾을 수 있습니다</div>
            
            <div class="content-grid content-grid-2">
                <div class="content-card">
                    <div class="card-title">🎯 청킹과 오버랩 과정 시각화</div>
                    
                    <div style="background: #f8f9fa; padding: 16px; border-radius: 8px; margin: 12px 0;">
                        <pre class="mermaid" style="background: transparent; border: none; padding: 0;">
graph TB
    A["📄 원본 긴 문서<br/>(3000자)"] --> B["✂️ 청킹 처리<br/>(500자씩 나누기)"]
    
    B --> C1["청크 1<br/>📝 첫 500자<br/>+20% 오버랩"]
    B --> C2["청크 2<br/>📝 400자 시작점<br/>(100자 겹침)"]
    B --> C3["청크 3<br/>📝 800자 시작점<br/>(100자 겹침)"]
    B --> C4["청크 4<br/>📝 1200자 시작점<br/>(100자 겹침)"]
    B --> C5["청크 5<br/>📝 1600자 시작점<br/>(100자 겹침)"]
    B --> C6["청크 6<br/>📝 마지막 부분"]
    
    C1 --> D1["🔢 벡터 변환<br/>[0.2, -0.1, 0.8...]"]
    C2 --> D2["🔢 벡터 변환<br/>[0.1, 0.3, -0.2...]"]
    C3 --> D3["🔢 벡터 변환<br/>[0.5, 0.7, 0.1...]"]
    C4 --> D4["🔢 벡터 변환<br/>[0.3, -0.4, 0.6...]"]
    C5 --> D5["🔢 벡터 변환<br/>[0.8, 0.2, -0.3...]"]
    C6 --> D6["🔢 벡터 변환<br/>[0.4, 0.9, 0.5...]"]
    
    D1 --> E["🗃️ 벡터 DB 저장<br/>검색 준비 완료"]
    D2 --> E
    D3 --> E
    D4 --> E
    D5 --> E
    D6 --> E
    
    style A fill:#e3f2fd
    style C1 fill:#fff3e0
    style C2 fill:#fff3e0
    style C3 fill:#fff3e0
    style C4 fill:#fff3e0
    style C5 fill:#fff3e0
    style C6 fill:#fff3e0
    style E fill:#f3e5f5
</pre>
                    </div>
                    
                    <div class="basic-font"><strong>오버랩의 중요성:</strong></div>
                    <ul class="checklist">
                        <li>문맥이 끊어지는 것을 방지</li>
                        <li>20% 겹침으로 정보 손실 최소화</li>
                        <li>더 정확한 검색 결과 보장</li>
                    </ul>
                </div>
                
                <div class="content-card">
                    <div class="card-title">📏 청킹 실전 예시</div>
                    
                    <div style="background: #fff; border: 2px solid #e0e0e0; border-radius: 8px; padding: 12px; margin: 12px 0;">
                        <div class="basic-font" style="margin-bottom: 8px;"><strong>원본 문서 예시:</strong></div>
                        <div style="background: #f5f5f5; padding: 8px; border-radius: 4px; font-size: 11pt; line-height: 1.4;">
                            "고객 서비스는 회사의 핵심 가치입니다. 우리는 고객의 만족을 위해 최선을 다하며, 24시간 상담 서비스를 제공합니다. 고객 문의는 이메일, 전화, 채팅으로 접수되며..."
                        </div>
                    </div>
                    
                    <div style="display: flex; flex-direction: column; gap: 8px;">
                        <div style="background: rgba(255, 243, 224, 0.8); padding: 8px; border-radius: 4px; border-left: 4px solid #ff9800;">
                            <strong>청크 1:</strong> "고객 서비스는 회사의 핵심 가치입니다. 우리는 고객의 만족을 위해 최선을 다하며..."
                        </div>
                        <div style="background: rgba(255, 243, 224, 0.8); padding: 8px; border-radius: 4px; border-left: 4px solid #ff9800;">
                            <strong>청크 2:</strong> <span style="background: rgba(255, 152, 0, 0.3);">"최선을 다하며, 24시간 상담 서비스를"</span> "제공합니다. 고객 문의는 이메일로..."
                        </div>
                        <div style="background: rgba(255, 243, 224, 0.8); padding: 8px; border-radius: 4px; border-left: 4px solid #ff9800;">
                            <strong>청크 3:</strong> <span style="background: rgba(255, 152, 0, 0.3);">"이메일, 전화, 채팅으로 접수되며"</span> "처리 시간은 평균 2시간..."
                        </div>
                    </div>
                    
                    <div class="basic-font" style="margin-top: 12px;"><strong>최적화 설정:</strong></div>
                    <ul class="checklist" style="margin-top: 8px;">
                        <li><strong>청크 크기:</strong> 500-1000자 권장</li>
                        <li><strong>오버랩:</strong> 20% (100자 겹침)</li>
                        <li><strong>분할 기준:</strong> 문장 단위로 자연스럽게</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Slide 7: RAG 3단계 구현 -->
        <section class="slide" id="slide-7">
            <h2 class="header-2">⚙️ n8n으로 RAG 시스템 3단계 구현</h2>
            <div class="message">문서를 저장하고, 검색하고, 답변을 생성하는 완전한 시스템을 만들어보겠습니다</div>
            
            <div class="content-grid content-grid-2">
                <div class="content-card">
                    <div class="card-title">1️⃣ 문서 처리 및 저장 (Indexing)</div>
                    
                    <div style="background: #f8f9fa; padding: 16px; border-radius: 8px; margin: 12px 0;">
                        <pre class="mermaid" style="background: transparent; border: none; padding: 0;">
graph LR
    A["📄 원본 문서<br/>PDF/웹페이지"] --> B["✂️ 청킹 처리<br/>500-1000자씩"]
    B --> C["🔤 Embedding<br/>Upstage Solar"]
    C --> D["🗃️ 벡터 DB<br/>Qdrant/Pinecone"]
    
    style A fill:#e3f2fd
    style B fill:#fff3e0
    style C fill:#e8f5e8
    style D fill:#f3e5f5
</pre>
                    </div>
                    
                    <div class="basic-font"><strong>n8n 워크플로우:</strong></div>
                    <div class="code-block">Manual Trigger → HTTP Request/File 읽기 → 청킹 처리 → Upstage Embedding → 벡터 DB 저장</div>
                </div>
                
                <div class="content-card">
                    <div class="card-title">2️⃣ 검색 & 3️⃣ 답변 생성 (Retrieval + Generation)</div>
                    
                    <div style="background: #f8f9fa; padding: 16px; border-radius: 8px; margin: 12px 0;">
                        <pre class="mermaid" style="background: transparent; border: none; padding: 0;">
graph LR
    A["❓ 사용자 질문<br/>재택근무 신청방법은?"] --> B["🔤 질문 Embedding<br/>벡터로 변환"]
    H["🗃️ 벡터 DB<br/>저장된 문서들"] --> C["🔍 유사도 검색<br/>코사인 유사도"]
    B --> C
    C --> D["📋 상위 5개 추출<br/>관련성 높은 청크"]
    D --> F["🤖 LLM 답변 생성<br/>OpenAI/Upstage Chat"]
    
    style A fill:#e3f2fd
    style B fill:#e8f5e8
    style C fill:#fff3e0
    style D fill:#fff3e0
    style F fill:#f3e5f5
    style H fill:#f0f0f0
</pre>
                    </div>
                    
                    <div class="basic-font"><strong>n8n 워크플로우:</strong></div>
                    <div class="code-block">Chat Trigger → 질문 Embedding → 벡터 검색 → 상위 결과 선별 → 프롬프트 구성 → LLM 답변 생성</div>
                </div>
            </div>
            
            <div class="callout">
                🎯 <strong>완성!</strong> 이제 사용자가 질문하면 저장된 문서에서 관련 정보를 찾아 정확한 답변을 자동으로 생성하는 똑똑한 지식 관리사가 완성되었습니다!
            </div>
        </section>

        <!-- Slide 8: 실전 프로젝트 -->
        <section class="slide" id="slide-8">
            <h2 class="header-2">🏢 실전 프로젝트: 회사 내부 지식 베이스</h2>
            <div class="message">IT 회사에서 직원들의 자주 묻는 질문에 자동으로 답변하는 시스템을 구축해보겠습니다</div>
            
            <div class="content-grid content-grid-2">
                <div class="content-card">
                    <div class="card-title">📋 프로젝트 구성</div>
                    <div class="basic-font"><strong>데이터 소스:</strong></div>
                    <ul class="checklist">
                        <li>회사 정책 문서 (휴가, 복리후생, 업무 규정)</li>
                        <li>제품 매뉴얼 및 기술 문서</li>
                        <li>자주 묻는 질문(FAQ) 목록</li>
                        <li>회의록 및 공지사항</li>
                    </ul>
                    
                    <div class="basic-font"><strong>시스템 구성:</strong></div>
                    <div class="code-block">1단계: 문서 색인화 워크플로우
HTTP Request → Code (청킹) → Upstage Embedding → Qdrant

2단계: 질문 답변 워크플로우  
Chat Trigger → Upstage Embedding → Qdrant Search → 
Set → Upstage Chat</div>
                </div>
                
                <div class="content-card">
                    <div class="card-title">💬 실제 사용 예시</div>
                    <div class="basic-font"><strong>질문:</strong> "재택근무 신청은 어떻게 하나요?"</div>
                    
                    <div class="code-block">시스템 처리 과정:
1. 질문을 벡터로 변환
2. 재택근무 관련 문서 조각들 검색
3. 관련 정보를 바탕으로 답변 생성</div>
                    
                    <div class="basic-font"><strong>생성된 답변:</strong></div>
                    <div class="code-block">"재택근무 신청은 다음과 같이 진행하시면 됩니다:

1. 사내 시스템에서 재택근무 신청서 작성
2. 직속 상관의 승인 요청  
3. 승인 후 HR팀에 최종 제출

[참고: 인사 정책 문서 Section 3.2]"</div>
                    
                    <div class="basic-font"><strong>시스템 장점:</strong></div>
                    <ul class="checklist">
                        <li>24시간 즉시 답변 가능</li>
                        <li>항상 최신 정보 기반</li>
                        <li>정확한 출처 정보 제공</li>
                        <li>HR팀 업무 부담 대폭 감소</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Slide 9: 시스템 개선 방법 -->
        <section class="slide" id="slide-9">
            <h2 class="header-2">🔧 RAG 시스템 개선 및 최적화</h2>
            <div class="message">더 정확하고 유용한 답변을 위한 시스템 품질 향상 방법들을 알아보겠습니다</div>
            
            <div class="content-grid content-grid-2">
                <div class="content-card">
                    <div class="card-title">🔍 하이브리드 검색 시스템</div>
                    
                    <div style="background: #f8f9fa; padding: 16px; border-radius: 8px; margin: 12px 0;">
                        <pre class="mermaid" style="background: transparent; border: none; padding: 0;">
graph LR
    A[사용자 질문: 고객 서비스] --> B{검색 방식 선택}
    
    B --> C[키워드 검색]
    B --> D[의미 검색]
    
    C --> C1["정확한 단어 매칭<br/>🔍 '고객 서비스'만 찾기"]
    C --> C2["결과: 3개 문서<br/>📄 고객 서비스 매뉴얼<br/>📄 고객 서비스 정책<br/>📄 고객 서비스 교육"]
    
    D --> D1["의미 기반 벡터 검색<br/>🧠 비슷한 뜻 모두 찾기"]
    D --> D2["결과: 10개 문서<br/>📄 고객 서비스 매뉴얼<br/>📄 고객 지원 가이드<br/>📄 사용자 도움말<br/>📄 구매자 상담 절차<br/>📄 클라이언트 케어<br/>+ 5개 추가"]
    
    C2 --> E[하이브리드 검색]
    D2 --> E
    E --> F["최적 결과: 12개 문서<br/>정확성 + 포괄성"]
    
    style C fill:#ffebee
    style D fill:#e8f5e8
    style E fill:#fff3e0
    style F fill:#f3e5f5
</pre>
                    </div>
                    
                    <div class="basic-font"><strong>벡터 + 키워드 결합의 장점:</strong></div>
                    <ul class="checklist">
                        <li>정확한 제품명, 날짜는 키워드로</li>
                        <li>의미적 관련성은 벡터로</li>
                        <li>두 방식의 장점을 모두 활용</li>
                    </ul>
                </div>
                
                <div class="content-card">
                    <div class="card-title">📊 품질 개선 및 피드백</div>
                    
                    <div class="basic-font"><strong>청킹 최적화 예시:</strong></div>
                    <div style="background: #fff; border: 1px solid #e0e0e0; border-radius: 6px; padding: 10px; margin: 8px 0;">
                        <div style="font-size: 11pt; color: #666;">❌ 잘못된 청킹:</div>
                        <div style="font-size: 10pt; background: #ffebee; padding: 6px; border-radius: 4px;">"재택근무는 주 2회까지 가능하며 사전 승인이 필요합니다. 단, 코로나19 상황에서는..."</div>
                        <div style="font-size: 11pt; color: #666; margin-top: 6px;">✅ 올바른 청킹:</div>
                        <div style="font-size: 10pt; background: #e8f5e8; padding: 6px; border-radius: 4px;">"재택근무 정책: 주 2회까지 가능하며 사전 승인이 필요합니다. 코로나19 특별 규정: 상황에 따라 전면 재택 가능합니다."</div>
                        <div style="font-size: 9pt; color: #888; margin-top: 4px; font-style: italic;">→ 완전한 문맥 유지를 위해 주제별로 명확히 분리하고 핵심 키워드 추가</div>
                    </div>
                    
                    <div class="basic-font"><strong>프롬프트 개선 예시:</strong></div>
                    <div class="code-block">❌ 약한 프롬프트:
"질문에 답변해주세요"

✅ 강한 프롬프트:
"다음 회사 문서 정보를 바탕으로만 정확히 답변하세요. 
정보가 부족하면 '관련 정보를 찾을 수 없습니다'라고 답변하세요.
답변 마지막에 반드시 [출처: 문서명 섹션]을 표시하세요."</div>
                    
                    <div class="basic-font"><strong>사용자 피드백 시스템:</strong></div>
                    <ul class="checklist">
                        <li>👍 👎 버튼으로 만족도 수집</li>
                        <li>"더 자세한 정보 필요" 요청 기능</li>
                        <li>자주 묻는 질문 but 답변 부족 알림</li>
                        <li>월간 답변 품질 리포트 자동 생성</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Slide 10: 성공한 지식 관리사 완성 -->
        <section class="slide" id="slide-10">
            <h2 class="header-2">🎉 똑똑한 지식 관리사 완성!</h2>
            <div class="message">이제 회사의 모든 지식을 완벽하게 기억하고 언제든 정확한 답변을 제공하는 AI 비서를 만들었습니다</div>
            
            <div class="content-grid content-grid-2">
                <div class="content-card">
                    <div class="card-title">🏆 RAG 시스템 도입 효과</div>
                    <table class="content-table">
                        <tr>
                            <th>개선 영역</th>
                            <th>도입 전</th>
                            <th>RAG 시스템 후</th>
                        </tr>
                        <tr>
                            <td>정보 검색</td>
                            <td>키워드 매칭만</td>
                            <td style="background: rgba(194, 134, 231, 0.7); font-weight: 600;">의미 기반 정확한 검색</td>
                        </tr>
                        <tr>
                            <td>답변 속도</td>
                            <td>담당자 찾아서 문의</td>
                            <td style="background: rgba(194, 134, 231, 0.7); font-weight: 600;">즉시 정확한 답변</td>
                        </tr>
                        <tr>
                            <td>정보 신뢰도</td>
                            <td>사람마다 다른 답변</td>
                            <td style="background: rgba(194, 134, 231, 0.7); font-weight: 600;">검증된 문서 기반</td>
                        </tr>
                        <tr>
                            <td>업무 효율</td>
                            <td>반복 질문 대응</td>
                            <td style="background: rgba(194, 134, 231, 0.7); font-weight: 600;">고부가가치 업무 집중</td>
                        </tr>
                    </table>
                </div>
                
                <div class="content-card">
                    <div class="card-title">🚀 확장 가능성</div>
                    <div class="basic-font"><strong>더 발전된 활용:</strong></div>
                    <ul class="checklist">
                        <li><strong>다국어 지원:</strong> 해외 직원도 한국어 문서 활용</li>
                        <li><strong>음성 인터페이스:</strong> 말로 질문하고 답변 받기</li>
                        <li><strong>실시간 업데이트:</strong> 새 문서 자동 반영</li>
                        <li><strong>개인화:</strong> 사용자별 맞춤 답변</li>
                    </ul>
                    
                    <div class="basic-font"><strong>비즈니스 효과:</strong></div>
                    <ul class="checklist">
                        <li>신입사원 교육 시간 50% 단축</li>
                        <li>고객 문의 응답 속도 10배 향상</li>
                        <li>지식 관리 비용 70% 절감</li>
                        <li>조직 전체 지식 공유 문화 확산</li>
                    </ul>
                </div>
            </div>
            
            <div class="callout">
                🎯 <strong>완성!</strong> 이제 RAG 시스템으로 회사의 모든 지식이 24시간 일하는 똑똑한 지식 관리사를 만들었습니다! 언제든지 질문하면 정확한 출처와 함께 믿을 수 있는 답변을 제공하는 시스템이 완성되었습니다. 다음 강의에서는 외부 시스템과 연결하는 API와 HTTP Request 활용법을 알아보겠습니다!
            </div>
        </section>
    </div>

    <script>
        // Progress bar functionality
        function updateProgressBar() {
            const scrollTop = window.pageYOffset;
            const docHeight = document.body.offsetHeight - window.innerHeight;
            const scrollPercent = (scrollTop / docHeight) * 100;
            document.querySelector('.scroll-progress-bar').style.width = scrollPercent + '%';
        }

        // Update slide counter
        function updateSlideCounter() {
            const slides = document.querySelectorAll('.slide');
            const scrollTop = window.pageYOffset + 150;
            let currentSlide = 1;
            
            slides.forEach((slide, index) => {
                const slideTop = slide.offsetTop;
                const slideBottom = slideTop + slide.offsetHeight;
                
                if (scrollTop >= slideTop && scrollTop < slideBottom) {
                    currentSlide = index + 1;
                }
            });
            
            document.querySelector('.slide-counter').textContent = `${currentSlide} / ${slides.length}`;
        }

        // Event listeners
        window.addEventListener('scroll', () => {
            updateProgressBar();
            updateSlideCounter();
        });

        // Initialize
        updateProgressBar();
        updateSlideCounter();
        
        // Initialize Mermaid
        if (typeof mermaid !== 'undefined') {
            mermaid.initialize({ startOnLoad: true, theme: 'default' });
        }

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowDown' || e.key === 'ArrowRight') {
                const slides = document.querySelectorAll('.slide');
                const current = Math.floor(window.pageYOffset / window.innerHeight);
                if (current < slides.length - 1) {
                    slides[current + 1].scrollIntoView({ behavior: 'smooth' });
                }
            } else if (e.key === 'ArrowUp' || e.key === 'ArrowLeft') {
                const slides = document.querySelectorAll('.slide');
                const current = Math.floor(window.pageYOffset / window.innerHeight);
                if (current > 0) {
                    slides[current - 1].scrollIntoView({ behavior: 'smooth' });
                }
            }
        });
    </script>
    
    <!-- Mermaid 초기화 스크립트 -->
    <script>
        // Mermaid 설정 및 초기화
        mermaid.initialize({
            startOnLoad: true,
            theme: 'neutral',
            themeVariables: {
                primaryColor: '#1B365D',
                primaryTextColor: '#2D3748',
                primaryBorderColor: '#E2E8F0',
                lineColor: '#636E72',
                backgroundColor: '#FFFFFF',
                secondaryColor: '#F8F9FA',
                tertiaryColor: '#E2E8F0'
            },
            flowchart: {
                useMaxWidth: true,
                htmlLabels: true
            },
            sequence: {
                useMaxWidth: true,
                wrap: true
            }
        });
    </script>
</body>
</html>