<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>서브워크플로우와 MCP의 활용</title>
    <style>
        /* === Overflow-safe Global Reset (필수) === */
        *, *::before, *::after { box-sizing: border-box; }
        html, body { max-width: 100%; overflow-x: hidden; }
        :root { scrollbar-gutter: stable both-edges; }

        /* 미디어/테이블이 그리드 밖으로 넘치지 않도록 */
        img, video, svg, canvas, iframe, table { max-width: 100%; height: auto; }
        pre, code, .code-block { max-width: 100%; overflow: auto; }

        /* 그리드 자식이 최소 폭 강제로 늘어나며 넘침을 만드는 문제 방지 */
        .content-grid { min-width: 0; }
        .content-grid > * { min-width: 0; overflow-wrap: anywhere; }

        /* 긴 단어/URL 강제 줄바꿈 */
        .basic-font, .card-title, .header-1, .header-2, .header-3 { overflow-wrap: anywhere; word-break: break-word; }

        /* 네비게이션 바 */
        .nav-bar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 70px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid #E2E8F0;
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 5vw;
            box-shadow: 0 2px 10px rgba(27, 54, 93, 0.1);
        }

        .nav-logo {
            height: 40px;
            font-size: 24px;
            font-weight: 700;
            color: #1B365D;
        }

        .nav-progress {
            display: flex;
            align-items: center;
            gap: 15px;
            font-size: 14px;
            color: #636E72;
        }

        .nav-progress .current-topic {
            font-weight: 600;
            color: #1B365D;
            max-width: 300px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .nav-progress .slide-counter {
            background: #F8F9FA;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            color: #636E72;
        }

        /* 스크롤 진행률 바 */
        .scroll-progress {
            position: fixed;
            top: 70px;
            left: 0;
            width: 100%;
            height: 4px;
            background: #F8F9FA;
            z-index: 999;
        }

        .scroll-progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #1B365D 0%, #8700E8 100%);
            width: 0%;
            transition: width 0.3s ease;
        }

        /* 슬라이드 컨테이너 */
        .slide-container {
            width: 100%;
            background: #FFFFFF;
            padding-top: 100px;
        }

        .slide {
            min-height: calc(100vh - 100px);
            width: 100%;
            padding: 32px 5vw 48px 5vw;
            display: flex;
            flex-direction: column;
            text-align: left;
            scroll-margin-top: 100px;
            box-sizing: border-box;
        }

        .slide + .slide {
            border-top: 2px solid #F8F9FA;
        }

        /* 타이포그래피 */
        .basic-font {
            font-size: 13pt;
            color: #2D3748;
            line-height: 1.3;
            margin-bottom: 8px;
        }

        .header-3 {
            font-size: 15pt;
            font-weight: 600;
            color: #1B365D;
            margin-bottom: 6px;
            line-height: 1.3;
            text-align: left;
        }

        .header-2 {
            font-size: 18pt;
            font-weight: 600;
            color: #1B365D;
            margin-bottom: 9px;
            line-height: 1.3;
        }

        .header-1 {
            font-size: 21pt;
            font-weight: 700;
            color: #1B365D;
            margin-bottom: 12px;
            line-height: 1.2;
            text-align: center;
        }

        .message {
            font-size: 15pt;
            font-weight: 500;
            color: rgb(115, 113, 113);
            margin-bottom: 6px;
            line-height: 1.3;
            text-align: left;
        }

        /* 레이아웃 */
        .content-grid {
            display: grid;
            gap: 8px;
            margin: 12px 0;
        }

        .content-grid-2 {
            grid-template-columns: 1fr 1fr;
        }

        .content-grid-3 {
            grid-template-columns: repeat(3, 1fr);
        }

        /* 카드 */
        .content-card {
            background: #FFFFFF;
            border: 1px solid rgb(235, 226, 240);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 8px;
            box-shadow: 0 2px 8px rgba(27, 54, 93, 0.05);
            transition: all 0.2s ease;
            margin-top: 0px;
        }

        .content-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(27, 54, 93, 0.1);
        }

        .card-title {
            font-size: 15pt;
            font-weight: 600;
            color: #1B365D;
            margin-bottom: 12px;
            margin-top: 6px;
            text-align: left;
        }

        /* 리스트 */
        .step-list {
            list-style: none;
            counter-reset: step-counter;
            margin: 12px 0;
            padding-left: 0;
        }

        .step-list > li {
            counter-increment: step-counter;
            margin-bottom: 10px;
            padding-left: 36px;
            position: relative;
            line-height: 1.2;
            font-size: 12pt;
        }

        .step-list > li::before {
            content: counter(step-counter);
            position: absolute;
            left: 0;
            top: 0;
            background: rgba(114, 29, 171, 0.7);
            color: white;
            width: 22px;
            height: 22px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12pt;
            font-weight: 600;
        }

        .checklist {
            list-style: none;
            margin: 12px 0;
            padding-left: 0;
        }

        .checklist li {
            padding: 4px 0 4px 26px;
            position: relative;
            margin-bottom: 0px;
            line-height: 1.2;
            font-size: 12pt;
        }

        .checklist li::before {
            content: "✓";
            position: absolute;
            left: 0;
            color: rgba(114, 29, 171, 0.7);
            font-weight: bold;
            font-size: 12pt;
        }

        /* 테이블 */
        .content-table {
            width: 100%;
            border-collapse: collapse;
            margin: 12px 0;
            background: #FFFFFF;
            border: 1px solid #E2E8F0;
            border-radius: 8px;
            overflow: hidden;
            font-size: 12pt;
        }

        .content-table th {
            background: #F8F9FA;
            margin: 12px 0;
            padding: 8px 8px;
            font-size: 15pt;
            font-weight: 600;
            color: #1B365D;
            text-align: left;
            border-bottom: 2px solid #E2E8F0;
        }

        .content-table td {
            padding: 8px 8px;
            color: #2D3748;
            border-bottom: 1.5px solid #F8F9FA;
            text-align: left;
            vertical-align: top;
        }

        .content-table tr:last-child td {
            border-bottom: none;
        }

        .content-table tr:hover {
            background: rgba(178, 73, 234, 0.05);
        }

        /* 콜아웃 */
        .callout-center {
            --surface: #ffffff;
            --border: rgba(27, 54, 93, 0.12);
            --shadow: 0 4px 16px rgba(27, 54, 93, 0.08), 0 1px 3px rgba(27, 54, 93, 0.06);
            text-align: left;
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: 14px;
            padding: 20px 24px;
            margin: 24px auto;
            width: fit-content;
            box-shadow: var(--shadow);
            overflow-wrap: anywhere;
            transition: box-shadow 0.25s ease, transform 0.25s ease;
        }

        .callout {
            padding: 16px;
            margin: 8px auto;
            background: rgba(178, 73, 234, 0.04);
            border: 0px;
            text-align: left;
            width: 100%;
            border-radius: 8px;
            font-size: 13pt;
            line-height: 1.7;
        }

        /* 코드 블록 */
        .code-block {
            background: #F8F9FA;
            border: 1px solid #E2E8F0;
            border-radius: 8px;
            padding: 12px 16px;
            margin: 12px 0;
            font-family: 'Monaco', 'Menlo', 'Consolas', 'Courier New', monospace;
            font-size: 11pt;
            color: #2D3748;
            line-height: 1.5;
            white-space: pre-wrap;
            word-wrap: break-word;
            overflow-wrap: break-word;
            word-break: break-all;
            overflow-x: auto;
        }

        /* 반응형 */
        @media (max-width: 768px) {
            .content-grid-2,
            .content-grid-3 {
                grid-template-columns: 1fr;
                gap: 12px;
            }
            
            .nav-progress .current-topic {
                display: none;
            }
            
            .slide {
                padding: 16px 3vw 32px 3vw;
            }
            
            .header-1 { font-size: 22pt; }
            .header-2 { font-size: 17pt; }
            .header-3 { font-size: 15pt; }
            .basic-font { font-size: 13pt; }
        }

        /* 부드러운 스크롤 */
        html {
            scroll-behavior: smooth;
        }

        /* intro 슬라이드 중앙 정렬 */
        .slide.intro {
            text-align: center;
            justify-content: center;
        }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.9.0/dist/mermaid.min.js"></script>
</head>
<body>
    <!-- 네비게이션 바 -->
    <nav class="nav-bar">
        <div class="nav-logo">n8n 자동화 강의</div>
        <div class="nav-progress">
            <span class="current-topic">서브워크플로우와 MCP의 활용</span>
            <span class="slide-counter" id="slide-counter">1 / 15</span>
        </div>
    </nav>

    <!-- 스크롤 진행률 바 -->
    <div class="scroll-progress">
        <div class="scroll-progress-bar" id="scroll-progress"></div>
    </div>

    <div class="slide-container">
        <!-- 인트로 슬라이드 -->
        <section class="slide intro" id="slide-1">
            <h1 class="header-1">🔗 서브워크플로우와 MCP의 활용</h1>
            <h2 class="header-2">재사용 가능한 모듈과 외부 도구 연결로 더 강력한 자동화 구축하기</h2>
            
            <div class="callout-center">
                <ol class="step-list">
                    <li>서브워크플로우로 작업을 모듈화하여 효율성 증대</li>
                    <li>Execute Workflow 노드로 워크플로우 간 데이터 연결</li>
                    <li>MCP를 통한 Claude Code 등 외부 도구 활용</li>
                    <li>실무 활용 시나리오와 모범 사례 학습</li>
                </ol>
            </div>
        </section>

        <!-- 서브워크플로우 개념 -->
        <section class="slide" id="slide-2">
            <h2 class="header-2">📋 서브워크플로우란 무엇인가?</h2>
            <div class="message">레고 블록처럼 조립 가능한 작업 단위로 워크플로우를 모듈화합니다.</div>
            
            <div class="content-grid content-grid-2">
                <div class="content-card">
                    <h3 class="card-title">🏗️ 기본 개념</h3>
                    <ul class="checklist">
                        <li>독립적으로 실행 가능한 워크플로우</li>
                        <li>다른 워크플로우에서 호출하여 사용</li>
                        <li>입력값을 받고 결과값을 반환</li>
                        <li>재사용성과 유지보수성 향상</li>
                    </ul>
                </div>
                
                <div class="content-card">
                    <h3 class="card-title">💡 실생활 비유</h3>
                    <p class="basic-font">요리할 때 양념장을 미리 만들어두고 필요할 때마다 사용하는 것과 같습니다.</p>
                    <ul class="checklist">
                        <li>양념장 = 서브워크플로우</li>
                        <li>요리 레시피 = 메인 워크플로우</li>
                        <li>재료 추가 = 입력 데이터</li>
                        <li>맛있는 요리 = 최종 결과</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- 서브워크플로우 필요성 -->
        <section class="slide" id="slide-3">
            <h2 class="header-2">⚡ 왜 서브워크플로우가 필요한가?</h2>
            <div class="message">복잡한 자동화를 효율적으로 관리하고 유지보수하기 위해서입니다.</div>
            
            <div class="content-grid content-grid-3">
                <div class="content-card">
                    <h3 class="card-title">🔄 재사용성</h3>
                    <ul class="checklist">
                        <li>한 번 만들면 여러 곳에서 사용</li>
                        <li>중복 작업 제거로 시간 절약</li>
                        <li>표준화된 처리 과정 구축</li>
                    </ul>
                </div>
                
                <div class="content-card">
                    <h3 class="card-title">🧩 모듈화</h3>
                    <ul class="checklist">
                        <li>복잡한 워크플로우를 단순하게 분할</li>
                        <li>각 기능별로 독립적 관리</li>
                        <li>문제 발생 시 해당 모듈만 수정</li>
                    </ul>
                </div>
                
                <div class="content-card">
                    <h3 class="card-title">⚙️ 관리 효율성</h3>
                    <ul class="checklist">
                        <li>전체 구조 파악이 쉬워짐</li>
                        <li>팀 협업 시 역할 분담 명확</li>
                        <li>버전 관리와 업데이트 편의</li>
                    </ul>
                </div>
            </div>
            
            <div class="callout">
                <strong>💼 실무 예시:</strong> 고객 정보 검증 로직을 서브워크플로우로 만들어두면 주문 처리, 회원가입, 고객지원 등 여러 업무에서 동일하게 활용할 수 있습니다.
            </div>
        </section>

        <!-- Execute Workflow 노드 소개 -->
        <section class="slide" id="slide-4">
            <h2 class="header-2">🚀 Execute Workflow 노드 기본 사용법</h2>
            <div class="message">다른 워크플로우를 호출하여 실행하는 핵심 노드입니다.</div>
            
            <div class="content-grid content-grid-2">
                <div class="content-card">
                    <h3 class="card-title">🎯 주요 기능</h3>
                    <ul class="checklist">
                        <li>다른 워크플로우 실행 및 결과 수신</li>
                        <li>데이터 전달 및 매개변수 설정</li>
                        <li>동기/비동기 실행 모드 선택</li>
                        <li>에러 처리 및 타임아웃 설정</li>
                    </ul>
                </div>
                
                <div class="content-card">
                    <h3 class="card-title">⚙️ 설정 옵션</h3>
                    <table class="content-table">
                        <tr>
                            <th>옵션</th>
                            <th>설명</th>
                        </tr>
                        <tr>
                            <td>워크플로우 선택</td>
                            <td>실행할 서브워크플로우 지정</td>
                        </tr>
                        <tr>
                            <td>실행 모드</td>
                            <td>Same Execution / New Execution</td>
                        </tr>
                        <tr>
                            <td>데이터 입력</td>
                            <td>JSON 형태로 데이터 전달</td>
                        </tr>
                        <tr>
                            <td>대기 설정</td>
                            <td>결과 기다림 여부 선택</td>
                        </tr>
                    </table>
                </div>
            </div>
        </section>

        <!-- 데이터 전달 방법 -->
        <section class="slide" id="slide-5">
            <h2 class="header-2">📤 서브워크플로우 간 데이터 전달</h2>
            <div class="message">입력 데이터를 전달하고 처리 결과를 받아오는 방법을 알아봅시다.</div>
            
            <div class="content-grid content-grid-2">
                <div class="content-card">
                    <h3 class="card-title">📥 데이터 입력 (메인 → 서브)</h3>
                    <ol class="step-list">
                        <li>Execute Workflow 노드 추가</li>
                        <li>'데이터 입력' 섹션에서 JSON 형태로 전달
                            <ul class="checklist">
                                <li>customerEmail: "user@example.com"</li>
                                <li>orderAmount: 50000</li>
                                <li>orderDate: "2024-01-15"</li>
                            </ul>
                        </li>
                        <li>서브워크플로우에서 입력 데이터 접근</li>
                    </ol>
                </div>
                
                <div class="content-card">
                    <h3 class="card-title">📤 결과 반환 (서브 → 메인)</h3>
                    <ol class="step-list">
                        <li>서브워크플로우 마지막에 데이터 정리</li>
                        <li>Set 노드로 반환할 데이터 구조화
                            <ul class="checklist">
                                <li>validationResult: true</li>
                                <li>customerGrade: "VIP"</li>
                                <li>discountRate: 0.1</li>
                            </ul>
                        </li>
                        <li>메인 워크플로우에서 결과 데이터 활용</li>
                    </ol>
                </div>
            </div>
            
            <div class="code-block">
// 메인 워크플로우에서 서브워크플로우 호출 시 데이터 전달 예시
{
  "customerInfo": {
    "email": "{{ $json.email }}",
    "orderAmount": "{{ $json.totalAmount }}"
  },
  "processType": "validation"
}</div>
        </section>

        <!-- 워크플로우 분리 전략 -->
        <section class="slide" id="slide-6">
            <h2 class="header-2">🎯 효과적인 워크플로우 분리 전략</h2>
            <div class="message">언제, 어떻게 워크플로우를 분리할지 판단하는 기준을 제시합니다.</div>
            
            <div class="content-grid content-grid-2">
                <div class="content-card">
                    <h3 class="card-title">✅ 분리하면 좋은 경우</h3>
                    <ul class="checklist">
                        <li><strong>반복 사용:</strong> 여러 워크플로우에서 동일한 로직</li>
                        <li><strong>독립적 기능:</strong> 명확한 입력/출력이 있는 작업</li>
                        <li><strong>복잡한 로직:</strong> 10개 이상의 노드로 구성</li>
                        <li><strong>팀 협업:</strong> 다른 팀원이 관리할 부분</li>
                        <li><strong>테스트 필요:</strong> 별도 테스트가 필요한 로직</li>
                    </ul>
                </div>
                
                <div class="content-card">
                    <h3 class="card-title">❌ 분리하지 않는 것이 좋은 경우</h3>
                    <ul class="checklist">
                        <li><strong>단순 작업:</strong> 3-4개 노드로 끝나는 간단한 처리</li>
                        <li><strong>일회성:</strong> 한 워크플로우에서만 사용</li>
                        <li><strong>강한 의존성:</strong> 메인 워크플로우와 밀접한 관계</li>
                        <li><strong>빈번한 변경:</strong> 자주 수정이 필요한 부분</li>
                        <li><strong>디버깅 복잡:</strong> 분리 시 추적이 어려운 로직</li>
                    </ul>
                </div>
            </div>
            
            <div class="callout">
                <strong>🏭 분리 기준 공식:</strong> 재사용성 × 복잡성 × 독립성이 높을수록 분리 우선순위가 높습니다. 예를 들어, 이메일 발송 로직은 재사용성과 독립성이 높아 분리하기 좋습니다.
            </div>
        </section>

        <!-- 실제 분리 실습 -->
        <section class="slide" id="slide-7">
            <h2 class="header-2">🛠️ 서브워크플로우 분리 실습</h2>
            <div class="message">고객 정보 검증 로직을 서브워크플로우로 분리하는 과정입니다.</div>
            
            <div class="content-grid content-grid-2">
                <div class="content-card">
                    <h3 class="card-title">1️⃣ 서브워크플로우 생성</h3>
                    <ol class="step-list">
                        <li><strong>새 워크플로우 생성</strong>
                            <ul class="checklist">
                                <li>이름: "고객정보검증_SUB"</li>
                                <li>설명: 이메일, 전화번호 유효성 검사</li>
                            </ul>
                        </li>
                        <li><strong>입력 데이터 처리</strong>
                            <ul class="checklist">
                                <li>Manual Trigger 노드로 시작</li>
                                <li>입력: customerEmail, customerPhone</li>
                            </ul>
                        </li>
                        <li><strong>검증 로직 구현</strong>
                            <ul class="checklist">
                                <li>이메일 형식 검사 (정규표현식)</li>
                                <li>전화번호 형식 검사</li>
                                <li>중복 고객 여부 확인</li>
                            </ul>
                        </li>
                    </ol>
                </div>
                
                <div class="content-card">
                    <h3 class="card-title">2️⃣ 메인 워크플로우 수정</h3>
                    <ol class="step-list">
                        <li><strong>Execute Workflow 노드 추가</strong>
                            <ul class="checklist">
                                <li>서브워크플로우: "고객정보검증_SUB" 선택</li>
                                <li>실행 모드: "Same Execution" 선택</li>
                            </ul>
                        </li>
                        <li><strong>데이터 전달 설정</strong>
                            <ul class="checklist">
                                <li>customerEmail: "{{ $json.email }}"</li>
                                <li>customerPhone: "{{ $json.phone }}"</li>
                            </ul>
                        </li>
                        <li><strong>결과 처리</strong>
                            <ul class="checklist">
                                <li>검증 성공 시: 다음 단계 진행</li>
                                <li>검증 실패 시: 에러 처리 분기</li>
                            </ul>
                        </li>
                    </ol>
                </div>
            </div>
        </section>

        <!-- MCP 개념 소개 -->
        <section class="slide" id="slide-8">
            <h2 class="header-2">🔌 MCP(Model Context Protocol) 소개</h2>
            <div class="message">AI 모델과 외부 도구를 연결하는 새로운 표준 프로토콜입니다.</div>
            
            <div class="content-grid content-grid-2">
                <div class="content-card">
                    <h3 class="card-title">🎯 MCP란?</h3>
                    <ul class="checklist">
                        <li>Model Context Protocol의 줄임말</li>
                        <li>AI 모델이 외부 도구에 접근하는 표준 방법</li>
                        <li>Claude, GPT 등 다양한 AI와 호환</li>
                        <li>실시간 데이터 접근 및 도구 실행 가능</li>
                    </ul>
                    
                    <p class="basic-font"><strong>🏠 비유:</strong> MCP는 AI의 손과 발 같은 역할입니다. 뇌(AI)가 생각하면 손발(MCP)이 실제 행동을 수행합니다.</p>
                </div>
                
                <div class="content-card">
                    <h3 class="card-title">⚡ 주요 장점</h3>
                    <table class="content-table">
                        <tr>
                            <th>장점</th>
                            <th>설명</th>
                        </tr>
                        <tr>
                            <td>표준화</td>
                            <td>통일된 방식으로 다양한 도구 연결</td>
                        </tr>
                        <tr>
                            <td>확장성</td>
                            <td>새로운 도구를 쉽게 추가 가능</td>
                        </tr>
                        <tr>
                            <td>보안성</td>
                            <td>안전한 권한 관리 시스템</td>
                        </tr>
                        <tr>
                            <td>효율성</td>
                            <td>AI가 직접 도구를 사용하여 작업</td>
                        </tr>
                    </table>
                </div>
            </div>
        </section>

        <!-- MCP와 n8n 연동 -->
        <section class="slide" id="slide-9">
            <h2 class="header-2">🔗 MCP를 통한 Claude Code 연동</h2>
            <div class="message">n8n에서 Claude Code를 활용하여 고급 자동화를 구현합니다.</div>
            
            <div class="content-grid content-grid-2">
                <div class="content-card">
                    <h3 class="card-title">🛠️ 연동 설정 과정</h3>
                    <ol class="step-list">
                        <li><strong>MCP 서버 설정</strong>
                            <ul class="checklist">
                                <li>Claude Desktop 앱 설치</li>
                                <li>MCP 설정 파일 구성</li>
                                <li>n8n API 엔드포인트 등록</li>
                            </ul>
                        </li>
                        <li><strong>n8n 웹훅 설정</strong>
                            <ul class="checklist">
                                <li>Webhook 노드로 MCP 요청 수신</li>
                                <li>인증 토큰 설정</li>
                                <li>응답 형식 정의</li>
                            </ul>
                        </li>
                        <li><strong>Claude Code 연결</strong>
                            <ul class="checklist">
                                <li>MCP를 통해 n8n 워크플로우 실행</li>
                                <li>실시간 데이터 교환</li>
                                <li>결과 피드백 수신</li>
                            </ul>
                        </li>
                    </ol>
                </div>
                
                <div class="content-card">
                    <h3 class="card-title">💡 활용 시나리오</h3>
                    <ul class="checklist">
                        <li><strong>스마트 데이터 분석</strong>
                            <ul class="checklist">
                                <li>Claude가 데이터 패턴 분석</li>
                                <li>n8n이 후속 액션 자동 실행</li>
                            </ul>
                        </li>
                        <li><strong>지능형 콘텐츠 생성</strong>
                            <ul class="checklist">
                                <li>Claude가 맞춤 콘텐츠 작성</li>
                                <li>n8n이 다양한 채널에 배포</li>
                            </ul>
                        </li>
                        <li><strong>복잡한 의사결정</strong>
                            <ul class="checklist">
                                <li>Claude가 상황 판단</li>
                                <li>n8n이 적절한 워크플로우 선택</li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- MCP 실습 예제 -->
        <section class="slide" id="slide-10">
            <h2 class="header-2">🚀 MCP 활용 실습: 스마트 고객 응답 시스템</h2>
            <div class="message">Claude Code가 고객 문의를 분석하고 적절한 응답을 자동 생성하는 시스템입니다.</div>
            
            <div class="content-grid content-grid-2">
                <div class="content-card">
                    <h3 class="card-title">📋 시스템 구조</h3>
                    <div class="code-block">
고객 이메일 수신
        ↓
Claude가 문의 내용 분석
        ↓
- 문의 유형 분류
- 감정 상태 분석  
- 우선순위 판정
        ↓
n8n이 적절한 워크플로우 실행
        ↓
자동 응답 발송 + 담당자 배정</div>
                </div>
                
                <div class="content-card">
                    <h3 class="card-title">⚙️ 구현 단계</h3>
                    <ol class="step-list">
                        <li><strong>이메일 수신 워크플로우</strong>
                            <ul class="checklist">
                                <li>Gmail Trigger로 새 이메일 감지</li>
                                <li>MCP를 통해 Claude에게 분석 요청</li>
                            </ul>
                        </li>
                        <li><strong>Claude 분석 로직</strong>
                            <ul class="checklist">
                                <li>문의 유형: 기술지원/주문문의/불만</li>
                                <li>긴급도: 높음/보통/낮음</li>
                                <li>고객 감정: 만족/불만/화남</li>
                            </ul>
                        </li>
                        <li><strong>자동 응답 실행</strong>
                            <ul class="checklist">
                                <li>분석 결과에 따른 맞춤 응답</li>
                                <li>적절한 담당 부서 배정</li>
                                <li>후속 조치 일정 등록</li>
                            </ul>
                        </li>
                    </ol>
                </div>
            </div>
        </section>

        <!-- 실무 활용 시나리오 1 -->
        <section class="slide" id="slide-11">
            <h2 class="header-2">💼 실무 활용 시나리오: 전자상거래 주문 처리</h2>
            <div class="message">서브워크플로우와 MCP를 결합한 고도화된 주문 처리 자동화입니다.</div>
            
            <div class="content-grid content-grid-2">
                <div class="content-card">
                    <h3 class="card-title">📊 전체 워크플로우 구조</h3>
                    <table class="content-table">
                        <tr>
                            <th>단계</th>
                            <th>처리 방식</th>
                            <th>담당 시스템</th>
                        </tr>
                        <tr>
                            <td>주문 접수</td>
                            <td>웹훅 수신</td>
                            <td>메인 워크플로우</td>
                        </tr>
                        <tr>
                            <td>고객 검증</td>
                            <td>서브워크플로우</td>
                            <td>고객검증_SUB</td>
                        </tr>
                        <tr>
                            <td>재고 확인</td>
                            <td>서브워크플로우</td>
                            <td>재고관리_SUB</td>
                        </tr>
                        <tr>
                            <td>결제 처리</td>
                            <td>서브워크플로우</td>
                            <td>결제처리_SUB</td>
                        </tr>
                        <tr>
                            <td>배송 안내</td>
                            <td>MCP + Claude</td>
                            <td>맞춤형 메시지 생성</td>
                        </tr>
                    </table>
                </div>
                
                <div class="content-card">
                    <h3 class="card-title">⚡ 핵심 서브워크플로우들</h3>
                    <ul class="checklist">
                        <li><strong>고객검증_SUB</strong>
                            <ul class="checklist">
                                <li>이메일/전화번호 유효성 검사</li>
                                <li>블랙리스트 고객 확인</li>
                                <li>VIP 고객 여부 판정</li>
                            </ul>
                        </li>
                        <li><strong>재고관리_SUB</strong>
                            <ul class="checklist">
                                <li>실시간 재고 수량 확인</li>
                                <li>예약 재고 처리</li>
                                <li>부족 시 대체 상품 제안</li>
                            </ul>
                        </li>
                        <li><strong>결제처리_SUB</strong>
                            <ul class="checklist">
                                <li>다중 결제 수단 지원</li>
                                <li>할인 쿠폰 적용</li>
                                <li>결제 실패 시 재시도 로직</li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
            
            <div class="callout">
                <strong>💰 효과:</strong> 주문 처리 시간 70% 단축, 고객 만족도 25% 향상, 재고 관리 정확도 95% 이상 달성
            </div>
        </section>

        <!-- 실무 활용 시나리오 2 -->
        <section class="slide" id="slide-12">
            <h2 class="header-2">📈 실무 활용 시나리오: HR 채용 자동화</h2>
            <div class="message">지원자 관리부터 면접 일정까지 전 과정을 자동화하는 시스템입니다.</div>
            
            <div class="content-grid content-grid-2">
                <div class="content-card">
                    <h3 class="card-title">📋 채용 프로세스 자동화</h3>
                    <ol class="step-list">
                        <li><strong>지원서 접수 및 분석</strong>
                            <ul class="checklist">
                                <li>이메일로 지원서 수신</li>
                                <li>MCP → Claude가 이력서 분석</li>
                                <li>자동 점수 산정 및 등급 분류</li>
                            </ul>
                        </li>
                        <li><strong>서류 심사</strong>
                            <ul class="checklist">
                                <li>서류심사_SUB 워크플로우 실행</li>
                                <li>필수 조건 자동 확인</li>
                                <li>합격/불합격 자동 판정</li>
                            </ul>
                        </li>
                        <li><strong>면접 일정 조율</strong>
                            <ul class="checklist">
                                <li>면접관 일정 확인</li>
                                <li>지원자와 최적 시간 매칭</li>
                                <li>자동 면접 초대 발송</li>
                            </ul>
                        </li>
                    </ol>
                </div>
                
                <div class="content-card">
                    <h3 class="card-title">🔍 Claude 분석 항목</h3>
                    <table class="content-table">
                        <tr>
                            <th>분석 영역</th>
                            <th>평가 기준</th>
                        </tr>
                        <tr>
                            <td>경력 적합성</td>
                            <td>필요 기술 스택 매칭도</td>
                        </tr>
                        <tr>
                            <td>교육 배경</td>
                            <td>학력 및 전공 관련성</td>
                        </tr>
                        <tr>
                            <td>성장 잠재력</td>
                            <td>학습 이력 및 프로젝트 경험</td>
                        </tr>
                        <tr>
                            <td>문화적 적합성</td>
                            <td>자기소개서 톤앤매너 분석</td>
                        </tr>
                    </table>
                    
                    <p class="basic-font"><strong>📊 결과:</strong> 각 항목별 10점 만점으로 자동 채점하여 총점 70점 이상 시 면접 대상자로 선별</p>
                </div>
            </div>
        </section>

        <!-- 모범 사례 -->
        <section class="slide" id="slide-13">
            <h2 class="header-2">✅ 서브워크플로우 설계 모범 사례</h2>
            <div class="message">효과적인 서브워크플로우 설계를 위한 실무 가이드라인입니다.</div>
            
            <div class="content-grid content-grid-2">
                <div class="content-card">
                    <h3 class="card-title">🎯 설계 원칙</h3>
                    <ul class="checklist">
                        <li><strong>단일 책임 원칙</strong>
                            <ul class="checklist">
                                <li>하나의 서브워크플로우는 하나의 기능만</li>
                                <li>이메일 발송, 데이터 검증 등 명확한 역할</li>
                            </ul>
                        </li>
                        <li><strong>표준화된 입출력</strong>
                            <ul class="checklist">
                                <li>일관된 데이터 형식 사용</li>
                                <li>에러 코드와 메시지 표준화</li>
                            </ul>
                        </li>
                        <li><strong>적절한 네이밍</strong>
                            <ul class="checklist">
                                <li>기능을 명확히 나타내는 이름</li>
                                <li>"_SUB" 접미사로 구분</li>
                            </ul>
                        </li>
                    </ul>
                </div>
                
                <div class="content-card">
                    <h3 class="card-title">⚠️ 주의사항</h3>
                    <ul class="checklist">
                        <li><strong>순환 호출 방지</strong>
                            <ul class="checklist">
                                <li>A → B → A 형태의 무한 루프 주의</li>
                                <li>호출 관계 다이어그램 작성 권장</li>
                            </ul>
                        </li>
                        <li><strong>에러 처리 강화</strong>
                            <ul class="checklist">
                                <li>모든 서브워크플로우에 에러 핸들링</li>
                                <li>메인 워크플로우로 에러 상태 전달</li>
                            </ul>
                        </li>
                        <li><strong>성능 고려사항</strong>
                            <ul class="checklist">
                                <li>과도한 중첩 호출 지양</li>
                                <li>타임아웃 설정으로 무한 대기 방지</li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
            
            <div class="callout">
                <strong>📝 네이밍 예시:</strong> "이메일발송_SUB", "고객정보검증_SUB", "결제처리_SUB" 처럼 기능과 용도를 명확히 표현하는 이름을 사용하세요.
            </div>
        </section>

        <!-- MCP 활용 모범 사례 -->
        <section class="slide" id="slide-14">
            <h2 class="header-2">🚀 MCP 활용 모범 사례</h2>
            <div class="message">MCP를 안전하고 효율적으로 활용하기 위한 실전 가이드입니다.</div>
            
            <div class="content-grid content-grid-2">
                <div class="content-card">
                    <h3 class="card-title">🔐 보안 고려사항</h3>
                    <ol class="step-list">
                        <li><strong>인증 토큰 관리</strong>
                            <ul class="checklist">
                                <li>API 키를 환경 변수로 저장</li>
                                <li>정기적 토큰 갱신</li>
                                <li>최소 권한 원칙 적용</li>
                            </ul>
                        </li>
                        <li><strong>데이터 보호</strong>
                            <ul class="checklist">
                                <li>민감한 개인정보 마스킹</li>
                                <li>HTTPS 통신 강제</li>
                                <li>로그 데이터 암호화</li>
                            </ul>
                        </li>
                        <li><strong>접근 제어</strong>
                            <ul class="checklist">
                                <li>IP 화이트리스트 설정</li>
                                <li>사용량 제한(Rate Limiting)</li>
                                <li>모니터링 및 알림 시스템</li>
                            </ul>
                        </li>
                    </ol>
                </div>
                
                <div class="content-card">
                    <h3 class="card-title">⚡ 성능 최적화</h3>
                    <table class="content-table">
                        <tr>
                            <th>최적화 영역</th>
                            <th>권장 방법</th>
                        </tr>
                        <tr>
                            <td>응답 시간</td>
                            <td>비동기 처리 활용</td>
                        </tr>
                        <tr>
                            <td>API 호출 비용</td>
                            <td>결과 캐싱 구현</td>
                        </tr>
                        <tr>
                            <td>대용량 처리</td>
                            <td>배치 처리 분할</td>
                        </tr>
                        <tr>
                            <td>에러 복구</td>
                            <td>재시도 로직 구현</td>
                        </tr>
                    </table>
                </div>
            </div>
            
            <div class="callout">
                <strong>💡 비용 절약 팁:</strong> Claude 호출 전에 간단한 규칙 기반 필터링을 먼저 적용하여 불필요한 AI 호출을 줄이고 비용을 절약할 수 있습니다.
            </div>
        </section>

        <!-- 마무리 슬라이드 -->
        <section class="slide" id="slide-15">
            <h2 class="header-2">🎯 마무리: 모듈화로 완성하는 스마트 자동화</h2>
            <div class="message">서브워크플로우와 MCP의 활용으로 더욱 강력하고 유연한 자동화를 구축했습니다.</div>
            
            <div class="content-grid content-grid-2">
                <div class="content-card">
                    <h3 class="card-title">🎉 학습 완료 체크리스트</h3>
                    <ul class="checklist">
                        <li>서브워크플로우의 필요성과 장점 이해</li>
                        <li>Execute Workflow 노드 활용 방법 숙지</li>
                        <li>효과적인 워크플로우 분리 전략 수립</li>
                        <li>MCP 개념과 Claude Code 연동 이해</li>
                        <li>실무 활용 시나리오를 통한 실전 적용</li>
                        <li>모범 사례와 주의사항 인지</li>
                    </ul>
                </div>
                
                <div class="content-card">
                    <h3 class="card-title">🚀 다음 단계</h3>
                    <ol class="step-list">
                        <li><strong>실습 프로젝트</strong>
                            <ul class="checklist">
                                <li>본인 업무에 맞는 서브워크플로우 설계</li>
                                <li>단계별 분리 및 구현</li>
                                <li>테스트 및 최적화</li>
                            </ul>
                        </li>
                        <li><strong>고도화 방향</strong>
                            <ul class="checklist">
                                <li>더 복잡한 MCP 연동 시도</li>
                                <li>다양한 AI 서비스 활용</li>
                                <li>팀 차원의 표준화 추진</li>
                            </ul>
                        </li>
                    </ol>
                </div>
            </div>
            
            <div class="callout">
                <strong>🏆 성공의 핵심:</strong> 작은 것부터 시작해서 점진적으로 확장하세요. 완벽한 시스템보다는 실용적이고 유지보수 가능한 자동화가 더 가치 있습니다.
            </div>
        </section>
    </div>

    <!-- JavaScript -->
    <script>
        // Mermaid 초기화
        mermaid.initialize({
            startOnLoad: true,
            theme: 'neutral',
            themeVariables: {
                primaryColor: '#1B365D',
                primaryTextColor: '#2D3748',
                primaryBorderColor: '#E2E8F0',
                lineColor: '#636E72',
                backgroundColor: '#FFFFFF',
                secondaryColor: '#F8F9FA',
                tertiaryColor: '#E2E8F0'
            },
            flowchart: {
                useMaxWidth: true,
                htmlLabels: true
            },
            sequence: {
                useMaxWidth: true,
                wrap: true
            }
        });

        // 스크롤 진행률 업데이트
        function updateScrollProgress() {
            const container = document.documentElement;
            const scrolled = container.scrollTop;
            const maxScroll = container.scrollHeight - container.clientHeight;
            const progress = (scrolled / maxScroll) * 100;
            
            const progressBar = document.getElementById('scroll-progress');
            if (progressBar) {
                progressBar.style.width = progress + '%';
            }
        }

        // 현재 슬라이드 번호 업데이트
        function updateSlideCounter() {
            const slides = document.querySelectorAll('.slide');
            const scrollTop = window.pageYOffset;
            let currentSlide = 1;
            
            slides.forEach((slide, index) => {
                const slideTop = slide.offsetTop - 150;
                const slideBottom = slideTop + slide.offsetHeight;
                
                if (scrollTop >= slideTop && scrollTop < slideBottom) {
                    currentSlide = index + 1;
                }
            });
            
            const counter = document.getElementById('slide-counter');
            if (counter) {
                counter.textContent = `${currentSlide} / ${slides.length}`;
            }
        }

        // 스크롤 이벤트 리스너
        window.addEventListener('scroll', () => {
            updateScrollProgress();
            updateSlideCounter();
        });

        // 초기 로드 시 실행
        document.addEventListener('DOMContentLoaded', () => {
            updateScrollProgress();
            updateSlideCounter();
        });

        // 키보드 네비게이션
        document.addEventListener('keydown', (e) => {
            const slides = document.querySelectorAll('.slide');
            let currentIndex = 0;
            
            // 현재 보이는 슬라이드 찾기
            const scrollTop = window.pageYOffset;
            slides.forEach((slide, index) => {
                const slideTop = slide.offsetTop - 150;
                if (scrollTop >= slideTop) {
                    currentIndex = index;
                }
            });
            
            // 화살표 키 처리
            if (e.key === 'ArrowDown' || e.key === 'ArrowRight') {
                e.preventDefault();
                if (currentIndex < slides.length - 1) {
                    slides[currentIndex + 1].scrollIntoView({ behavior: 'smooth' });
                }
            } else if (e.key === 'ArrowUp' || e.key === 'ArrowLeft') {
                e.preventDefault();
                if (currentIndex > 0) {
                    slides[currentIndex - 1].scrollIntoView({ behavior: 'smooth' });
                }
            }
        });
    </script>
</body>
</html>